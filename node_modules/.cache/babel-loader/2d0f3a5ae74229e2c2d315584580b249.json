{"ast":null,"code":"import _regeneratorRuntime from \"/root/ReactApp/darkbank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/root/ReactApp/darkbank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/root/ReactApp/darkbank/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/root/ReactApp/darkbank/src/Components/dashboard/addBlog.js\";\n\nimport React from \"react\";\nimport \"react-quill/dist/quill.snow.css\";\nimport ReactQuill from \"react-quill\";\nimport AdminDashboard from \".\";\nimport \"./CSS/addBlog.css\";\nimport AdminFooter from \"./admin-footer\";\nimport { Card, CardBody, CardImg, Form, FormInput } from \"shards-react\";\nimport { useState, useEffect } from \"react\";\n\nvar axios = require(\"axios\").default; // const jwt = require(\"jsonwebtoken\");\n\n\nvar AddBlogPost = function AddBlogPost() {\n  document.title = \"DarkBank | Admin | POST A NEW BLOG\";\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      BlogImage = _useState2[0],\n      setBlogImage = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      BlogTitle = _useState4[0],\n      setBlogTitle = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userState = _useState6[0],\n      setUserState = _useState6[1];\n\n  var checkUserState = function checkUserState() {\n    var urlLink = \"http://localhost:5000/user/checkUserState\";\n    return new Promise(function (resolve, reject) {\n      axios({\n        method: \"POST\",\n        url: urlLink,\n        data: {\n          token: localStorage.getItem(\"userToken\")\n        }\n      }).then(function (response) {\n        resolve(\"Active!\");\n      }).catch(function (error) {\n        if (error.response.message === \"Sorry, an error occurred!\") {\n          reject(\"Error!\");\n        } else {\n          reject(\"Token Expired!\");\n        }\n      });\n    });\n  };\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isFetching = _useState8[0],\n      setIsFetching = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      dataFetched = _useState10[0],\n      setDataFetched = _useState10[1];\n\n  useEffect(function () {\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setIsFetching(true);\n              _context.next = 3;\n              return checkUserState();\n\n            case 3:\n              data = _context.sent;\n              setDataFetched(data);\n              setIsFetching(false);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, []);\n\n  if (isFetching) {\n    if (dataFetched === \"Token Expired!\") {\n      window.location = \"\";\n    }\n  }\n\n  var displayImage = function displayImage(event) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      var output = document.getElementById(\"imagePreview\");\n      output.src = reader.result;\n    };\n\n    reader.readAsDataURL(event.target.files[0]);\n    setBlogImage(event.target.value);\n  };\n\n  var createBlogPost = function createBlogPost() {\n    document.getElementById(\"postFeedback\").innerHTML = \"\";\n    var urlLink = \"http://localhost:5000/blog/newpost\";\n    var dataObject = new FormData();\n    dataObject.append(\"POSTEDBY\", localStorage.getItem(\"userToken\"));\n    dataObject.append(\"BLOGTITLE\", BlogTitle);\n    dataObject.append(\"BLOGPOST\", document.getElementById(\"BlogPost\").innerText);\n    dataObject.append(\"BLOGIMAGE\", document.getElementById(\"blogFile\").files[0]);\n\n    if (BlogTitle.length > 2 && BlogImage !== \"\" && document.getElementById(\"BlogPost\").innerText !== \"\\n\") {\n      axios({\n        method: \"POST\",\n        url: urlLink,\n        data: dataObject\n      }).then(function (response) {\n        document.getElementById(\"postFeedback\").innerHTML = \"Great! You've just added a new blog post.\";\n        document.getElementById(\"postFeedback\").style.color = \"rgba(1,16,10,1)\";\n      }).catch(function (err) {\n        if (err.response.data.message === \"Invalid Email\") {\n          document.getElementById(\"postFeedback\").innerHTML = \"Sorry, you're not authorized for this!\";\n        } else {\n          document.getElementById(\"postFeedback\").innerHTML = err.response.data.message;\n        }\n\n        document.getElementById(\"postFeedback\").style.color = \"red\";\n      });\n    } else {\n      document.getElementById(\"postFeedback\").innerHTML = \"Ops, seems all the fields are not well filled!\";\n      document.getElementById(\"postFeedback\").style.color = \"red\";\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(AdminDashboard, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }\n  }, \".\"), /*#__PURE__*/React.createElement(Card, {\n    small: true,\n    className: \"addForm jobForm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, \"ADD A NEW BLOG POST\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginLeft: \"1.1em\"\n    },\n    id: \"postFeedback\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"add-new-post\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormInput, {\n    size: \"lg\",\n    className: \"mb-3\",\n    placeholder: \"Your Post Title\",\n    id: \"blogTitle\",\n    onChange: function onChange(event) {\n      return setBlogTitle(event.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"jobImgInd\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }\n  }, \"UPLOAD AND PREVIEW BLOG POST IMAGE HERE!\"), /*#__PURE__*/React.createElement(CardImg, {\n    id: \"imagePreview\",\n    className: \"JobImage\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    size: \"lg\",\n    className: \"selectImage\",\n    placeholder: \"Job Title\",\n    onChange: displayImage,\n    id: \"blogFile\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ReactQuill, {\n    className: \"add-new-post__editor mb-1 jobDescription\",\n    id: \"BlogPost\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"publish\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"publish-btn\",\n    onClick: createBlogPost,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, \"Publish\"))), /*#__PURE__*/React.createElement(AdminFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default AddBlogPost;","map":{"version":3,"sources":["/root/ReactApp/darkbank/src/Components/dashboard/addBlog.js"],"names":["React","ReactQuill","AdminDashboard","AdminFooter","Card","CardBody","CardImg","Form","FormInput","useState","useEffect","axios","require","default","AddBlogPost","document","title","BlogImage","setBlogImage","BlogTitle","setBlogTitle","userState","setUserState","checkUserState","urlLink","Promise","resolve","reject","method","url","data","token","localStorage","getItem","then","response","catch","error","message","isFetching","setIsFetching","dataFetched","setDataFetched","window","location","displayImage","event","reader","FileReader","onload","output","getElementById","src","result","readAsDataURL","target","files","value","createBlogPost","innerHTML","dataObject","FormData","append","innerText","length","style","color","err","marginLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"react-quill/dist/quill.snow.css\";\nimport ReactQuill from \"react-quill\";\nimport AdminDashboard from \".\";\nimport \"./CSS/addBlog.css\";\nimport AdminFooter from \"./admin-footer\";\nimport { Card, CardBody, CardImg, Form, FormInput } from \"shards-react\";\n\nimport { useState, useEffect } from \"react\";\nconst axios = require(\"axios\").default;\n\n// const jwt = require(\"jsonwebtoken\");\n\nconst AddBlogPost = () => {\n  document.title = \"DarkBank | Admin | POST A NEW BLOG\";\n\n  const [BlogImage, setBlogImage] = useState(\"\");\n\n  const [BlogTitle, setBlogTitle] = useState(\"\");\n\n  const [userState, setUserState] = useState(\"\");\n\n  const checkUserState = () => {\n    const urlLink = \"http://localhost:5000/user/checkUserState\";\n    return new Promise((resolve, reject) => {\n      axios({\n        method: \"POST\",\n\n        url: urlLink,\n\n        data: {\n          token: localStorage.getItem(\"userToken\")\n        }\n      })\n        .then(response => {\n          resolve(\"Active!\");\n        })\n        .catch(error => {\n          if (error.response.message === \"Sorry, an error occurred!\") {\n            reject(\"Error!\");\n          } else {\n            reject(\"Token Expired!\");\n          }\n        });\n    });\n  };\n\n \n\n  const [isFetching, setIsFetching] = useState(false);\n\n  const [dataFetched, setDataFetched] = useState(\"\");\n\n  useEffect(() => {\n    (async () => {\n      setIsFetching(true);\n      const data = await  checkUserState();\n      setDataFetched(data);\n      setIsFetching(false);\n    })();\n  }, []);\n\n  if (isFetching) {\n    if(dataFetched === \"Token Expired!\"){\n     window.location = \"\"\n    }\n  }\n\n  const displayImage = event => {\n    var reader = new FileReader();\n\n    reader.onload = function() {\n      var output = document.getElementById(\"imagePreview\");\n\n      output.src = reader.result;\n    };\n\n    reader.readAsDataURL(event.target.files[0]);\n\n    setBlogImage(event.target.value);\n  };\n\n  const createBlogPost = () => {\n    document.getElementById(\"postFeedback\").innerHTML = \"\";\n\n    const urlLink = \"http://localhost:5000/blog/newpost\";\n\n    const dataObject = new FormData();\n\n    dataObject.append(\"POSTEDBY\", localStorage.getItem(\"userToken\"));\n\n    dataObject.append(\"BLOGTITLE\", BlogTitle);\n\n    dataObject.append(\n      \"BLOGPOST\",\n      document.getElementById(\"BlogPost\").innerText\n    );\n\n    dataObject.append(\n      \"BLOGIMAGE\",\n      document.getElementById(\"blogFile\").files[0]\n    );\n\n    if (\n      BlogTitle.length > 2 &&\n      BlogImage !== \"\" &&\n      document.getElementById(\"BlogPost\").innerText !== \"\\n\"\n    ) {\n      axios({\n        method: \"POST\",\n\n        url: urlLink,\n\n        data: dataObject\n      })\n        .then(function(response) {\n          document.getElementById(\"postFeedback\").innerHTML =\n            \"Great! You've just added a new blog post.\";\n          document.getElementById(\"postFeedback\").style.color =\n            \"rgba(1,16,10,1)\";\n        })\n\n        .catch(function(err) {\n          if (err.response.data.message === \"Invalid Email\") {\n            document.getElementById(\"postFeedback\").innerHTML =\n              \"Sorry, you're not authorized for this!\";\n          } else {\n            document.getElementById(\"postFeedback\").innerHTML =\n              err.response.data.message;\n          }\n          document.getElementById(\"postFeedback\").style.color = \"red\";\n        });\n    } else {\n      document.getElementById(\"postFeedback\").innerHTML =\n        \"Ops, seems all the fields are not well filled!\";\n      document.getElementById(\"postFeedback\").style.color = \"red\";\n    }\n  };\n\n  return (\n    <div>\n      <AdminDashboard />\n      <div>.</div>\n      <Card small className=\"addForm jobForm\">\n        <div className=\"form-title\">ADD A NEW BLOG POST</div>\n\n        <div style={{ marginLeft: \"1.1em\" }} id=\"postFeedback\"></div>\n        <CardBody>\n          <Form className=\"add-new-post\">\n            <FormInput\n              size=\"lg\"\n              className=\"mb-3\"\n              placeholder=\"Your Post Title\"\n              id=\"blogTitle\"\n              onChange={event => setBlogTitle(event.target.value)}\n            />\n            <p className=\"jobImgInd\">\n              UPLOAD AND PREVIEW BLOG POST IMAGE HERE!\n            </p>\n\n            <CardImg id=\"imagePreview\" className=\"JobImage\" />\n\n            <input\n              type=\"file\"\n              size=\"lg\"\n              className=\"selectImage\"\n              placeholder=\"Job Title\"\n              onChange={displayImage}\n              id=\"blogFile\"\n            />\n            <ReactQuill\n              className=\"add-new-post__editor mb-1 jobDescription\"\n              id=\"BlogPost\"\n            />\n          </Form>\n        </CardBody>\n        <div className=\"publish\">\n          <button className=\"publish-btn\" onClick={createBlogPost}>\n            Publish\n          </button>\n        </div>\n      </Card>\n\n      {/* <div style={{textAlign:\"center\"}}>Test</div> */}\n      <AdminFooter />\n    </div>\n  );\n};\n\nexport default AddBlogPost;\n"]},"metadata":{},"sourceType":"module"}